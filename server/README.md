# Endpoints

Endpoints are grouped into the following categories:

- signUp - relating to sign-up in the data set.
- signIn - relating to sign-in in the data set.
- searchSongs - relating to getting song's information using `Deezer API`.
- lyrics - relating to lyrics that users added, edited, and deleted.
- comment - relating to comments that users added, edited, and deleted.
- myPage - relating to a user page for handling the user's activity.

## Sign-up endpoints

### POST /signup

Create a new user in the data set.

Expects a body with the following structure:

```json
{
  "userId": "<userId>",
  "userPassword": "<userPassword>"
}
```

Response will be in this structure:

```json
{
  "status": 200,
  "success": true,
  "data": {
    "_id": "<userId>",
    "password": "<Hashed userPassword>"
  }
}
```

## Sign-in endpoints

### POST /signin

Let signed up user sign in the website.

Expects a body with the following structure:

```json
{
  "userId": "<userId>",
  "userPassword": "<userPassword>"
}
```

Response will be in this structure:

```json
{
  "status": 200,
  "message": "Signed in successfully.",
  "data": {
    "_id": "<userId>"
  }
}
```

## Search songs endpoints

### GET /searchSongs/:songId

Get added lyrics for a specific song if there is more than one result.

Response will be in this structure:

```json
{
  "status": 200,
  "data": [
    {
      "_id": "<ObjectId_generated by mongodb>",
      "songId": "<songId>",
      "lyrics": [
        {
          "language": "<Language input value>",
          "lyrics": "<Lyrics input value>",
          "userId": "<userId>"
        }
      ],
      "addedLyricsId": "<Id_generated by uuid>"
    }
  ]
}
```

## Lyrics endpoints

### POST /addLyrics/:songId

Add lyrics for a specific song into the data set.

Expects a body with the following structure:

```json
{
  "signedInUser_id": "<Signed in userId>",
  "language": "<Language input value>",
  "lyrics": "<Lyrics input value>"
}
```

Response will be in this structure:

```json
{
  "status": 200,
  "success": true,
  "message": "Your lyrics has been added successfully! Thank you for your help!"
}
```

### PATCH /newLyrics/:songId/:addedLyricsId/edit

Edit added lyrics for a specific song into the data set.

Expects a body with the following structure:

```json
{
  "signedInUser_id": "<Signed in userId>",
  "language": "<Language input value>",
  "lyrics": "<Lyrics input value>"
}
```

Response will be in this structure:

```json
{
  "status": 200,
  "success": true,
  "message": "Your lyrics has been edited successfully! Thank you for your help!"
}
```

### DELETE /newLyrics/:songId/:addedLyricsId/delete

Delete added lyrics for a specific song from the data set.

Response will be in this structure:

```json
{
  "status": 200,
  "success": true,
  "message": "Your lyrics has been deleted successfully!"
}
```

## Comment endpoints

### POST /newLyrics/:songId/:addedLyricsId/comment

Add comments on a specific lyrics post page and the data set.

Expects a body with the following structure:

```json
{
  "signedInUser_id": "<Signed in userId>",
  "textValue": "<Comment input value>",
  "date": "<Date_generated by moment dependency>"
}
```

Response will be in this structure:

```json
{
  "status": 200,
  "success": true,
  "data": {
    "acknowledged": true,
    "insertedId": "<ObjectId_generated by mongodb>"
  }
}
```

### PATCH /newLyrics/:songId/:addedLyricsId/comment/:addedCommentId/edit

Edit added comment on a specific lyrics post page and the data set.

Expects a body with the following structure:

```json
{
  "textValue": "<Comment input value>",
  "date": "<Date_generated by moment dependency>"
}
```

Response will be in this structure:

```json
{
  "status": 200,
  "success": true,
  "message": "Your comment has been edited successfully!"
}
```

### DELETE /newLyrics/:songId/:addedLyricsId/:addedCommentId/delete

Delete added comment from a specific lyrics post page and the data set.

Response will be in this structure:

```json
{
  "status": 200,
  "success": true,
  "message": "Comment has been deleted successfully!"
}
```

## MyPage endpoints

### GET /myPage/:signedInUser_id

Get all lyrics information that signed-in user created.

```json
{
  "status": 200,
  "data": [
    {
      "_id": "<ObjectId_generated by mongodb>",
      "userId": "<userId>",
      "songId": "<songId>",
      "lyrics": [
        {
          "language": "<Language input value>",
          "lyrics": "<Lyrics input value>",
          "userId": "<userId>"
        }
      ],
      "addedLyricsId": "<Id_generated by uuid>"
    }
  ]
}
```
